<ion-view view-title="Location Search">
  <ion-content>
    <ion-list class="list-inset">
      <ion-item class='item-input-inset'>
        <label class="item-input-wrapper">
          <i class='icon ion-search placeholder-icon'></i>
          <input type='search' placeholder='Enter a city...' ng-model='$parent.$parent.location' ng-change='$parent.locationChanged()'/>
        </label>
      </ion-item>
      <ion-item class='result' ng-repeat='city in cityArray' ui-sref='app.weather({
          city: city.formatted_address,
          lat: city.geometry.location.lat,
          lng: city.geometry.location.lng
        })'>
        {{city.formatted_address}}
      </ion-item>
      <div class="item item-divider" ng-show='savedCities.length'>Saved Cities</div>
      <ion-item class='result' ng-repeat='(key, obj) in savedCities track by $index' ui-sref='app.weather({
          city: obj.city,
          lat: obj.lat,
          lng: obj.lng
        })'>
        <i class='icon royal ion-android-favorite-outline'></i>
        {{obj.city}}
        <ion-option-button class="button-royal" ng-click="delete(key)">
          Delete
        </ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
